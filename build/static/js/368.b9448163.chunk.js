"use strict";(self.webpackChunkgreen_call_crm=self.webpackChunkgreen_call_crm||[]).push([[368],{9368:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var s=r(5043),i=r(3458),o=r(399),a=r(917),n=r(987),d=r(2938),l=r(2817);const c=(0,r(3797).A)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);var m=r(579);const p=e=>{let{darkMode:t,currentUser:r}=e;const[p,u]=(0,s.useState)([]),[f,h]=(0,s.useState)(null),[g,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{u([{id:"TKT-1001",subject:"Cannot access dashboard features",description:"I am unable to access the analytics dashboard after the recent update.",status:"open",priority:"high",type:"technical",createdAt:"2023-06-15T10:30:00Z",customerId:"1",customerName:"Rajesh Kumar",customerEmail:"rajesh@example.com",responses:[]},{id:"TKT-982",subject:"Billing question about subscription",description:"I was charged twice for my monthly subscription. Please help resolve this issue.",status:"in_progress",priority:"medium",type:"billing",createdAt:"2023-06-10T14:45:00Z",customerId:"2",customerName:"Priya Sharma",customerEmail:"priya@example.com",responses:[{id:"RES-1",text:"We are looking into this issue and will get back to you shortly.",createdAt:"2023-06-10T16:30:00Z",createdBy:"Support Team",isStaff:!0}]},{id:"TKT-943",subject:"Feature request: Export to PDF",description:"It would be helpful to have an option to export reports as PDF files.",status:"resolved",priority:"low",type:"feature",createdAt:"2023-05-28T09:15:00Z",customerId:"3",customerName:"Amit Patel",customerEmail:"amit@example.com",responses:[{id:"RES-2",text:"Thank you for your suggestion. We have added this to our feature roadmap.",createdAt:"2023-05-29T11:20:00Z",createdBy:"Product Team",isStaff:!0},{id:"RES-3",text:"This feature has been implemented in our latest update. Please let us know if you have any feedback.",createdAt:"2023-06-05T14:10:00Z",createdBy:"Product Team",isStaff:!0}]},{id:"TKT-1023",subject:"Login issues after password reset",description:"I reset my password but now I cannot log in to my account.",status:"open",priority:"urgent",type:"account",createdAt:"2023-06-16T08:20:00Z",customerId:"4",customerName:"Vikram Singh",customerEmail:"vikram@example.com",responses:[]},{id:"TKT-1015",subject:"Data import not working",description:"I am trying to import my customer data but the system shows an error.",status:"in_progress",priority:"high",type:"technical",createdAt:"2023-06-14T11:45:00Z",customerId:"5",customerName:"Neha Gupta",customerEmail:"neha@example.com",responses:[{id:"RES-4",text:"Could you please share the error message you are seeing?",createdAt:"2023-06-14T13:20:00Z",createdBy:"Support Team",isStaff:!0}]}])},[]);const y=(e,t)=>{const r=p.map(r=>r.id===e?{...r,status:t}:r);u(r),h(r.find(t=>t.id===e))},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;switch(e){case"open":return(0,m.jsx)(i.A,{size:t,color:"#6b7280"});case"in_progress":return(0,m.jsx)(o.A,{size:t,color:"#2563eb"});case"resolved":return(0,m.jsx)(a.A,{size:t,color:"#059669"});default:return(0,m.jsx)(n.A,{size:t,color:"#dc2626"})}};return(0,m.jsx)("div",{style:{padding:"1.5rem",background:t?"#111827":"#f9fafb",minHeight:"100vh"},children:(0,m.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,m.jsx)("h1",{style:{fontSize:"1.875rem",fontWeight:"700",color:t?"white":"#111827",marginBottom:"2rem"},children:"Support Management"}),(0,m.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[{label:"Open Tickets",value:p.filter(e=>"open"===e.status).length,icon:(0,m.jsx)(i.A,{size:24}),color:"#6b7280"},{label:"In Progress",value:p.filter(e=>"in_progress"===e.status).length,icon:(0,m.jsx)(o.A,{size:24}),color:"#2563eb"},{label:"Resolved",value:p.filter(e=>"resolved"===e.status).length,icon:(0,m.jsx)(a.A,{size:24}),color:"#059669"},{label:"Total Tickets",value:p.length,icon:(0,m.jsx)(n.A,{size:24}),color:"#dc2626"}].map((e,r)=>(0,m.jsx)("div",{style:{background:t?"#1f2937":"white",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid "+(t?"#374151":"#e5e7eb")},children:(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#9ca3af":"#6b7280",marginBottom:"0.25rem"},children:e.label}),(0,m.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"700",color:t?"white":"#111827",margin:0},children:e.value})]}),(0,m.jsx)("div",{style:{color:e.color},children:e.icon})]})},r))}),(0,m.jsxs)("div",{style:{display:"grid",gridTemplateColumns:g?"1fr 2fr":"1fr",gap:"1.5rem"},children:[(0,m.jsx)("div",{style:{background:t?"#1f2937":"white",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid "+(t?"#374151":"#e5e7eb")},children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:t?"white":"#111827",marginBottom:"1rem"},children:"Support Tickets"}),(0,m.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:p.map(e=>(0,m.jsxs)("div",{onClick:()=>(e=>{h(e),x(!0)})(e),style:{padding:"1rem",background:t?"#374151":"#f9fafb",borderRadius:"8px",cursor:"pointer",border:"1px solid "+(t?"#4b5563":"#e5e7eb"),transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.background=t?"#4b5563":"#f3f4f6"},onMouseLeave:e=>{e.target.style.background=t?"#374151":"#f9fafb"},children:[(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,m.jsx)("h4",{style:{fontSize:"0.875rem",fontWeight:"600",color:t?"white":"#111827",margin:0},children:e.subject}),b(e.status,16)]}),(0,m.jsxs)("p",{style:{fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280",margin:"0 0 0.5rem 0"},children:[e.customerName," \u2022 ",e.id]}),(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,m.jsx)("span",{style:{fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280"},children:new Date(e.createdAt).toLocaleDateString()}),(0,m.jsx)("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500",background:"urgent"===e.priority||"high"===e.priority?t?"rgba(239, 68, 68, 0.2)":"#fee2e2":t?"rgba(245, 158, 11, 0.2)":"#fef3c7",color:"urgent"===e.priority||"high"===e.priority?t?"#f87171":"#dc2626":t?"#fbbf24":"#d97706",textTransform:"capitalize"},children:e.priority})]})]},e.id))})]})}),g&&f&&(0,m.jsxs)("div",{style:{background:t?"#1f2937":"white",borderRadius:"8px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",border:"1px solid "+(t?"#374151":"#e5e7eb")},children:[(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1.5rem"},children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:t?"white":"#111827",margin:"0 0 0.5rem 0"},children:f.subject}),(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,m.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:t?"#9ca3af":"#6b7280"},children:f.id}),(0,m.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280"},children:[(0,m.jsx)(d.A,{size:12}),new Date(f.createdAt).toLocaleDateString()]})]})]}),(0,m.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:(0,m.jsxs)("select",{value:f.status,onChange:e=>y(f.id,e.target.value),style:{padding:"0.5rem",border:"1px solid "+(t?"#374151":"#d1d5db"),borderRadius:"6px",background:t?"#374151":"white",color:t?"white":"#111827",fontSize:"0.875rem"},children:[(0,m.jsx)("option",{value:"open",children:"Open"}),(0,m.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,m.jsx)("option",{value:"resolved",children:"Resolved"})]})})]}),(0,m.jsxs)("div",{style:{background:t?"#111827":"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[(0,m.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"#16a34a",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"1.125rem"},children:f.customerName.charAt(0)}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:t?"white":"#111827"},children:f.customerName}),(0,m.jsxs)("div",{style:{fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280",display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,m.jsx)(l.A,{size:12}),f.customerEmail]})]}),(0,m.jsxs)("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,m.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",background:t?"rgba(16, 185, 129, 0.1)":"#d1fae5",color:t?"#34d399":"#059669"},children:[(0,m.jsx)(c,{size:12}),f.type]}),(0,m.jsx)("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",background:"high"===f.priority||"urgent"===f.priority?t?"rgba(239, 68, 68, 0.1)":"#fee2e2":t?"rgba(245, 158, 11, 0.1)":"#fef3c7",color:"high"===f.priority||"urgent"===f.priority?t?"#f87171":"#dc2626":t?"#fbbf24":"#d97706",textTransform:"capitalize"},children:f.priority})]})]}),(0,m.jsxs)("div",{style:{background:t?"#111827":"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[(0,m.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:t?"white":"#111827",marginBottom:"0.75rem"},children:"Description"}),(0,m.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#d1d5db":"#374151",margin:0,whiteSpace:"pre-wrap"},children:f.description})]}),(0,m.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,m.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:t?"white":"#111827",marginBottom:"1rem"},children:"Conversation History"}),f.responses&&f.responses.length>0?(0,m.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:f.responses.map(e=>(0,m.jsxs)("div",{style:{background:e.isStaff?t?"rgba(59, 130, 246, 0.1)":"#dbeafe":t?"#111827":"#f9fafb",padding:"1rem",borderRadius:"8px",borderLeft:"3px solid "+(e.isStaff?"#3b82f6":"#9ca3af")},children:[(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,m.jsxs)("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:t?"white":"#111827"},children:[e.createdBy,e.isStaff&&(0,m.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#3b82f6",marginLeft:"0.5rem",padding:"0.125rem 0.375rem",background:t?"rgba(59, 130, 246, 0.1)":"#dbeafe",borderRadius:"9999px"},children:"Staff"})]}),(0,m.jsx)("span",{style:{fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280"},children:new Date(e.createdAt).toLocaleString()})]}),(0,m.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#d1d5db":"#374151",margin:0,whiteSpace:"pre-wrap"},children:e.text})]},e.id))}):(0,m.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#9ca3af":"#6b7280",fontStyle:"italic"},children:"No responses yet"})]}),"resolved"!==f.status&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:t?"white":"#111827",marginBottom:"0.75rem"},children:"Reply to Customer"}),(0,m.jsx)("textarea",{id:"adminResponseText",placeholder:"Type your response here...",rows:3,style:{width:"100%",padding:"0.75rem",border:"1px solid "+(t?"#374151":"#d1d5db"),borderRadius:"6px",background:t?"#374151":"white",color:t?"white":"#111827",fontSize:"0.875rem",resize:"vertical",marginBottom:"1rem"}}),(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[(0,m.jsxs)("button",{onClick:()=>y(f.id,"resolved"),style:{padding:"0.5rem 1rem",background:t?"#374151":"#f3f4f6",color:t?"#d1d5db":"#374151",border:"none",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,m.jsx)(a.A,{size:16}),"Mark as Resolved"]}),(0,m.jsxs)("button",{onClick:()=>{const e=document.getElementById("adminResponseText").value;((e,t)=>{if(!t.trim())return;const s=p.map(s=>{if(s.id===e){const e={id:`RES-${Date.now()}`,text:t,createdAt:(new Date).toISOString(),createdBy:(null===r||void 0===r?void 0:r.name)||"Support Team",isStaff:!0},i="open"===s.status?"in_progress":s.status;return{...s,status:i,responses:[...s.responses||[],e]}}return s});u(s),h(s.find(t=>t.id===e))})(f.id,e),document.getElementById("adminResponseText").value=""},style:{padding:"0.5rem 1rem",background:"#16a34a",color:"white",border:"none",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,m.jsx)(o.A,{size:16}),"Send Response"]})]})]})]})]})]})})}}}]);
//# sourceMappingURL=368.b9448163.chunk.js.map