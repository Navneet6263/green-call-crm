"use strict";(self.webpackChunkgreen_call_crm=self.webpackChunkgreen_call_crm||[]).push([[411],{1792:(e,r,t)=>{t.r(r),t.d(r,{default:()=>d});var i=t(5043),o=t(4421),n=t(3458),a=t(6487),s=t(1380),l=t(5275),c=t(579);const d=e=>{let{leads:r=[],darkMode:t}=e;const[d,m]=(0,i.useState)([]),[f,h]=(0,i.useState)(!1),[p,g]=(0,i.useState)(null),u=e=>{var r,t;let i=0,o=[];const n=e.estimatedValue||0;n>5e5?(i+=30,o.push({factor:"High Value Deal",impact:"+30",color:"#22c55e"})):n>1e5?(i+=20,o.push({factor:"Medium Value Deal",impact:"+20",color:"#f59e0b"})):(i+=10,o.push({factor:"Standard Deal",impact:"+10",color:"#6b7280"}));["technology","finance","healthcare"].includes(null===(r=e.industry)||void 0===r?void 0:r.toLowerCase())?(i+=20,o.push({factor:"High-Value Industry",impact:"+20",color:"#22c55e"})):(i+=10,o.push({factor:"Standard Industry",impact:"+10",color:"#6b7280"}));const a=(null===(t=e.leadSource)||void 0===t?void 0:t.toLowerCase())||"";a.includes("referral")?(i+=15,o.push({factor:"Referral Source",impact:"+15",color:"#22c55e"})):a.includes("website")?(i+=10,o.push({factor:"Website Source",impact:"+10",color:"#f59e0b"})):(i+=5,o.push({factor:"Other Source",impact:"+5",color:"#6b7280"}));const s=e.email&&e.email.includes("@"),l=e.phone&&e.phone.length>8;s&&l?(i+=20,o.push({factor:"Complete Contact Info",impact:"+20",color:"#22c55e"})):(s||l)&&(i+=10,o.push({factor:"Partial Contact Info",impact:"+10",color:"#f59e0b"}));const c=new Date(e.createdDate||Date.now()),d=Math.floor((Date.now()-c.getTime())/864e5);d<=7?(i+=15,o.push({factor:"Fresh Lead",impact:"+15",color:"#22c55e"})):d<=30?(i+=10,o.push({factor:"Recent Lead",impact:"+10",color:"#f59e0b"})):(i+=5,o.push({factor:"Older Lead",impact:"+5",color:"#ef4444"}));const m=Math.min(100,Math.max(0,i));return{score:m,factors:o,priority:m>=80?"High":m>=60?"Medium":"Low",recommendation:y(m,o)}},y=(e,r)=>e>=80?{action:"Immediate Follow-up",message:"High-priority lead! Contact within 24 hours.",icon:o.A,color:"#22c55e"}:e>=60?{action:"Schedule Follow-up",message:"Good potential. Follow up within 3 days.",icon:n.A,color:"#f59e0b"}:{action:"Nurture Campaign",message:"Add to nurture sequence for future engagement.",icon:a.A,color:"#6b7280"};(0,i.useEffect)(()=>{r.length>0&&(async()=>{h(!0),await new Promise(e=>setTimeout(e,2e3));const e=r.map(e=>({...e,aiAnalysis:u(e)}));e.sort((e,r)=>r.aiAnalysis.score-e.aiAnalysis.score),m(e),h(!1)})()},[r]);const x=e=>e>=80?"#22c55e":e>=60?"#f59e0b":"#ef4444",b={padding:"0",background:t?"#111827":"#f9fafb",minHeight:"100vh"},j={background:t?"#1f2937":"white",borderRadius:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid "+(t?"#374151":"#e5e7eb")};return(0,c.jsxs)("div",{style:b,children:[(0,c.jsx)("div",{style:{marginBottom:"2rem"},children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[(0,c.jsx)(s.A,{style:{color:"#8b5cf6"},size:32}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"700",color:t?"white":"#1f2937",margin:0},children:"AI Lead Scoring"}),(0,c.jsx)("p",{style:{color:t?"#9ca3af":"#6b7280",fontSize:"1.125rem",margin:0},children:"Intelligent lead prioritization powered by machine learning"})]})]})}),f&&(0,c.jsxs)("div",{style:{...j,padding:"2rem",marginBottom:"2rem",textAlign:"center"},children:[(0,c.jsx)("div",{style:{width:"60px",height:"60px",border:"4px solid #e5e7eb",borderTop:"4px solid #8b5cf6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),(0,c.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:t?"white":"#1f2937",marginBottom:"0.5rem"},children:"AI is Analyzing Your Leads..."}),(0,c.jsxs)("p",{style:{color:t?"#9ca3af":"#6b7280"},children:["Processing ",r.length," leads with advanced scoring algorithms"]})]}),!f&&d.length>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[{label:"High Priority",value:d.filter(e=>"High"===e.aiAnalysis.priority).length,icon:o.A,color:"#22c55e"},{label:"Medium Priority",value:d.filter(e=>"Medium"===e.aiAnalysis.priority).length,icon:a.A,color:"#f59e0b"},{label:"Low Priority",value:d.filter(e=>"Low"===e.aiAnalysis.priority).length,icon:n.A,color:"#ef4444"},{label:"Avg Score",value:Math.round(d.reduce((e,r)=>e+r.aiAnalysis.score,0)/d.length),icon:l.A,color:"#8b5cf6"}].map((e,r)=>{const i=e.icon;return(0,c.jsx)("div",{style:{...j,padding:"1.5rem"},children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#9ca3af":"#6b7280",marginBottom:"0.25rem"},children:e.label}),(0,c.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"700",color:t?"white":"#1f2937"},children:e.value})]}),(0,c.jsx)(i,{style:{color:e.color},size:28})]})},r)})}),(0,c.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"1.5rem"},children:d.map(e=>{const r=e.aiAnalysis,i=(e=>{switch(e){case"High":return{bg:"#dcfce7",text:"#166534",border:"#22c55e"};case"Medium":return{bg:"#fef3c7",text:"#d97706",border:"#f59e0b"};case"Low":return{bg:"#fee2e2",text:"#dc2626",border:"#ef4444"};default:return{bg:"#f3f4f6",text:"#6b7280",border:"#9ca3af"}}})(r.priority),o=r.recommendation.icon;return(0,c.jsxs)("div",{style:{...j,padding:"1.5rem"},children:[(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:t?"white":"#1f2937",margin:"0 0 0.25rem 0"},children:e.companyName}),(0,c.jsx)("p",{style:{color:t?"#9ca3af":"#6b7280",fontSize:"0.875rem",margin:0},children:e.contactPerson})]}),(0,c.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:(0,c.jsx)("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:`conic-gradient(${x(r.score)} ${3.6*r.score}deg, ${t?"#374151":"#e5e7eb"} 0deg)`,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:(0,c.jsx)("div",{style:{width:"45px",height:"45px",borderRadius:"50%",background:t?"#1f2937":"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"700",color:x(r.score)},children:r.score})})})]}),(0,c.jsx)("div",{style:{marginBottom:"1rem"},children:(0,c.jsxs)("span",{style:{padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",background:i.bg,color:i.text,border:`1px solid ${i.border}`},children:[r.priority," Priority"]})}),(0,c.jsxs)("div",{style:{background:t?"#374151":"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[(0,c.jsx)(o,{size:16,style:{color:r.recommendation.color}}),(0,c.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:r.recommendation.color},children:r.recommendation.action})]}),(0,c.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#d1d5db":"#374151",margin:0},children:r.recommendation.message})]}),(0,c.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,c.jsx)("h4",{style:{fontSize:"0.875rem",fontWeight:"600",color:t?"white":"#1f2937",marginBottom:"0.5rem"},children:"Scoring Factors:"}),(0,c.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:r.factors.slice(0,3).map((e,r)=>(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,c.jsx)("span",{style:{fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280"},children:e.factor}),(0,c.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:e.color},children:e.impact})]},r))})]}),(0,c.jsxs)("button",{onClick:()=>g(e),style:{width:"100%",padding:"0.75rem",background:"linear-gradient(135deg, #8b5cf6, #a855f7)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,c.jsx)(s.A,{size:16}),"View Full Analysis"]})]},e._id||e.id)})})]}),(0,c.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})}}}]);
//# sourceMappingURL=411.ca2cde7e.chunk.js.map