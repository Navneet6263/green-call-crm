"use strict";(self.webpackChunkgreen_call_crm=self.webpackChunkgreen_call_crm||[]).push([[812],{1490:(e,t,r)=>{r.d(t,{A:()=>i});const i=(0,r(3797).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},4068:(e,t,r)=>{r.d(t,{A:()=>i});const i=(0,r(3797).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},5812:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var i=r(5043),n=r(9589),o=r(5680),a=r(1676),s=r(5979),l=r(4068),d=r(2543),c=r(8775),m=r(8112),p=r(9256),h=r(1490);const g=(0,r(3797).A)("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);var f=r(917),u=r(6339),y=r(8068),x=r(579);const b=e=>{let{darkMode:t,crmData:r,updateCrmData:b}=e;const[j,v]=(0,i.useState)([]),[w,k]=(0,i.useState)([]),[S,z]=(0,i.useState)(""),[A,C]=(0,i.useState)("all"),[D,R]=(0,i.useState)(!1);(0,i.useEffect)(()=>{v([{id:1,type:"email",field:"email",value:"rajesh@techsolutions.com",records:[{id:101,contactPerson:"Rajesh Kumar",companyName:"Tech Solutions Pvt Ltd",email:"rajesh@techsolutions.com",phone:"+91 9876543210",createdDate:"2024-12-15T10:30:00Z",source:"Website"},{id:102,contactPerson:"Rajesh K.",companyName:"Tech Solutions Private Limited",email:"rajesh@techsolutions.com",phone:"+91 9876543210",createdDate:"2024-12-18T14:20:00Z",source:"Manual Entry"}],confidence:95,status:"pending"},{id:2,type:"phone",field:"phone",value:"+91 9876543211",records:[{id:103,contactPerson:"Priya Sharma",companyName:"Digital Marketing Hub",email:"priya@digitalmarketing.com",phone:"+91 9876543211",createdDate:"2024-12-10T09:15:00Z",source:"Social Media"},{id:104,contactPerson:"Priya S.",companyName:"Digital Marketing Hub",email:"priya.sharma@digitalmarketing.com",phone:"+91 9876543211",createdDate:"2024-12-12T16:45:00Z",source:"Referral"}],confidence:88,status:"pending"},{id:3,type:"company",field:"companyName",value:"Healthcare Solutions",records:[{id:105,contactPerson:"Amit Patel",companyName:"Healthcare Solutions",email:"amit@healthcare.com",phone:"+91 9876543212",createdDate:"2024-12-05T11:45:00Z",source:"Trade Show"},{id:106,contactPerson:"Dr. Amit Patel",companyName:"Healthcare Solutions Pvt Ltd",email:"dr.amit@healthcaresolutions.com",phone:"+91 9876543212",createdDate:"2024-12-08T13:30:00Z",source:"Cold Call"}],confidence:82,status:"pending"}])},[r]);const P=e=>{switch(e){case"email":return(0,x.jsx)(n.A,{size:16});case"phone":return(0,x.jsx)(o.A,{size:16});case"company":return(0,x.jsx)(a.A,{size:16});default:return(0,x.jsx)(s.A,{size:16})}},M=j.filter(e=>{const t=e.value.toLowerCase().includes(S.toLowerCase())||e.records.some(e=>e.contactPerson.toLowerCase().includes(S.toLowerCase())||e.companyName.toLowerCase().includes(S.toLowerCase())),r="all"===A||"high"===A&&e.confidence>=90||"medium"===A&&e.confidence>=70&&e.confidence<90||"low"===A&&e.confidence<70||"pending"===A&&"pending"===e.status||"ignored"===A&&"ignored"===e.status;return t&&r}),I={padding:"0",background:t?"#111827":"#f9fafb",minHeight:"100vh"},T={background:t?"#1f2937":"white",borderRadius:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid "+(t?"#374151":"#e5e7eb")};return(0,x.jsxs)("div",{style:I,children:[(0,x.jsx)("div",{style:{marginBottom:"2rem"},children:(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,x.jsx)(s.A,{style:{color:"#ef4444"},size:32}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"700",color:t?"white":"#1f2937",margin:0},children:"Duplicate Detection"}),(0,x.jsx)("p",{style:{color:t?"#9ca3af":"#6b7280",fontSize:"1.125rem",margin:0},children:"Identify and manage duplicate records in your CRM database"})]})]}),(0,x.jsxs)("button",{onClick:async()=>{R(!0),(0,y.P)("info","\ud83d\udd0d Scanning for duplicates..."),setTimeout(()=>{R(!1),(0,y.P)("success",`\u2705 Scan complete! Found ${j.length} potential duplicates`)},3e3)},disabled:D,style:{padding:"0.75rem 1.5rem",background:D?t?"#4b5563":"#d1d5db":"linear-gradient(135deg, #ef4444, #f87171)",color:"white",border:"none",borderRadius:"12px",cursor:D?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",fontWeight:"600"},children:[(0,x.jsx)(l.A,{size:20,style:{animation:D?"spin 1s linear infinite":"none"}}),D?"Scanning...":"Scan for Duplicates"]})]})}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[{label:"Total Duplicates",value:j.length,icon:s.A,color:"#ef4444"},{label:"High Confidence",value:j.filter(e=>e.confidence>=90).length,icon:d.A,color:"#dc2626"},{label:"Pending Review",value:j.filter(e=>"pending"===e.status).length,icon:c.A,color:"#f59e0b"},{label:"Records Affected",value:j.reduce((e,t)=>e+t.records.length,0),icon:m.A,color:"#8b5cf6"}].map((e,r)=>{const i=e.icon;return(0,x.jsx)("div",{style:{...T,padding:"1.5rem"},children:(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#9ca3af":"#6b7280",marginBottom:"0.25rem"},children:e.label}),(0,x.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"700",color:t?"white":"#1f2937"},children:e.value})]}),(0,x.jsx)(i,{style:{color:e.color},size:28})]})},r)})}),(0,x.jsx)("div",{style:{...T,padding:"1.5rem",marginBottom:"2rem"},children:(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[(0,x.jsxs)("div",{style:{position:"relative",flex:1,minWidth:"300px"},children:[(0,x.jsx)(p.A,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),(0,x.jsx)("input",{type:"text",placeholder:"Search duplicates...",value:S,onChange:e=>z(e.target.value),style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid "+(t?"#374151":"#e5e7eb"),borderRadius:"8px",background:t?"#374151":"white",color:t?"white":"#1f2937",fontSize:"1rem",outline:"none"}})]}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(h.A,{size:20,style:{color:t?"#9ca3af":"#6b7280"}}),(0,x.jsxs)("select",{value:A,onChange:e=>C(e.target.value),style:{padding:"0.75rem",border:"2px solid "+(t?"#374151":"#e5e7eb"),borderRadius:"8px",background:t?"#374151":"white",color:t?"white":"#1f2937",fontSize:"1rem",outline:"none"},children:[(0,x.jsx)("option",{value:"all",children:"All Duplicates"}),(0,x.jsx)("option",{value:"high",children:"High Confidence (90%+)"}),(0,x.jsx)("option",{value:"medium",children:"Medium Confidence (70-89%)"}),(0,x.jsx)("option",{value:"low",children:"Low Confidence (<70%)"}),(0,x.jsx)("option",{value:"pending",children:"Pending Review"}),(0,x.jsx)("option",{value:"ignored",children:"Ignored"})]})]})]})}),(0,x.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:M.map(e=>{const r=(i=e.confidence)>=90?{bg:"#fee2e2",text:"#dc2626",border:"#ef4444"}:i>=70?{bg:"#fef3c7",text:"#d97706",border:"#f59e0b"}:{bg:"#dbeafe",text:"#1d4ed8",border:"#3b82f6"};var i;return(0,x.jsxs)("div",{style:{...T,padding:"1.5rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,x.jsx)("div",{style:{padding:"0.75rem",background:r.bg,borderRadius:"50%",border:`2px solid ${r.border}`},children:P(e.type)}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:t?"white":"#1f2937",margin:"0 0 0.25rem 0"},children:["Duplicate ",e.type.charAt(0).toUpperCase()+e.type.slice(1)]}),(0,x.jsxs)("p",{style:{color:t?"#9ca3af":"#6b7280",fontSize:"0.875rem",margin:0},children:[e.value," \u2022 ",e.records.length," records"]})]})]}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,x.jsxs)("span",{style:{padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.875rem",fontWeight:"600",background:r.bg,color:r.text,border:`1px solid ${r.border}`},children:[e.confidence,"% Match"]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,x.jsxs)("button",{onClick:()=>(e=>{const t=e.records.sort((e,t)=>new Date(e.createdDate)-new Date(t.createdDate));t[0],t.slice(1).map(e=>e.id),v(t=>t.filter(t=>t.id!==e.id)),(0,y.P)("success",`\u2705 Merged ${e.records.length} duplicate records`)})(e),style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #22c55e, #4ade80)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(g,{size:14}),"Merge"]}),(0,x.jsx)("button",{onClick:()=>{return t=e.id,v(e=>e.map(e=>e.id===t?{...e,status:"ignored"}:e)),void(0,y.P)("info","\ud83d\udc41\ufe0f Duplicate marked as ignored");var t},style:{padding:"0.5rem 1rem",background:t?"#374151":"#f3f4f6",color:t?"#d1d5db":"#374151",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:"Ignore"})]})]})]}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:e.records.map((r,i)=>(0,x.jsxs)("div",{style:{background:t?"#374151":"#f9fafb",padding:"1rem",borderRadius:"8px",border:0===i?"2px solid #22c55e":"1px solid "+(t?"#4b5563":"#e5e7eb")},children:[0===i&&(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.75rem"},children:[(0,x.jsx)(f.A,{size:16,style:{color:"#22c55e"}}),(0,x.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#22c55e"},children:"PRIMARY RECORD"})]}),(0,x.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,x.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:t?"white":"#1f2937",margin:"0 0 0.25rem 0"},children:r.contactPerson}),(0,x.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#9ca3af":"#6b7280",margin:0},children:r.companyName})]}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",fontSize:"0.875rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(n.A,{size:14,style:{color:"#3b82f6"}}),(0,x.jsx)("span",{style:{color:t?"#d1d5db":"#374151"},children:r.email})]}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(o.A,{size:14,style:{color:"#22c55e"}}),(0,x.jsx)("span",{style:{color:t?"#d1d5db":"#374151"},children:r.phone})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:"1px solid "+(t?"#4b5563":"#e5e7eb")},children:[(0,x.jsx)("span",{style:{color:t?"#9ca3af":"#6b7280"},children:new Date(r.createdDate).toLocaleDateString()}),i>0&&(0,x.jsx)("button",{onClick:()=>((e,t)=>{const r=e.records.filter(e=>e.id!==t);r.length<2?v(t=>t.filter(t=>t.id!==e.id)):v(t=>t.map(t=>t.id===e.id?{...t,records:r}:t)),(0,y.P)("success","\ud83d\uddd1\ufe0f Record deleted successfully")})(e,r.id),style:{padding:"0.25rem",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"4px",cursor:"pointer"},title:"Delete Record",children:(0,x.jsx)(u.A,{size:12})})]})]})]},r.id))})]},e.id)})}),0===M.length&&(0,x.jsxs)("div",{style:{...T,padding:"3rem",textAlign:"center"},children:[(0,x.jsx)(f.A,{size:48,style:{color:"#22c55e",marginBottom:"1rem"}}),(0,x.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:t?"white":"#1f2937",marginBottom:"0.5rem"},children:"No duplicates found"}),(0,x.jsx)("p",{style:{color:t?"#9ca3af":"#6b7280"},children:S||"all"!==A?"Try adjusting your search or filter criteria":"Your database is clean! Run a scan to check for new duplicates."})]}),(0,x.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})}},6339:(e,t,r)=>{r.d(t,{A:()=>i});const i=(0,r(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=812.97f88d6c.chunk.js.map