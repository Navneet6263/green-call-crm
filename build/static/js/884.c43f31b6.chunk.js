"use strict";(self.webpackChunkgreen_call_crm=self.webpackChunkgreen_call_crm||[]).push([[884],{74:(e,i,r)=>{r.d(i,{A:()=>t});const t=(0,r(3797).A)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]])},4082:(e,i,r)=>{r.d(i,{A:()=>t});const t=(0,r(3797).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},6339:(e,i,r)=>{r.d(i,{A:()=>t});const t=(0,r(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6787:(e,i,r)=>{r.d(i,{A:()=>t});const t=(0,r(3797).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},8884:(e,i,r)=>{r.r(i),r.d(i,{default:()=>x});var t=r(5043),s=r(8112),n=r(2380),o=r(917),l=r(6487),d=r(4421),a=r(987),c=r(74),m=r(4082),g=r(6787),p=r(6339),h=r(5611),u=r(8068),f=r(579);const x=e=>{let{darkMode:i,crmData:r,updateCrmData:x}=e;const[y,b]=(0,t.useState)([]),[j,v]=(0,t.useState)(!1),[S,k]=(0,t.useState)(null),[w,A]=(0,t.useState)({name:"",conditions:[],assignTo:"",priority:1,isActive:!0}),z=[{id:1,name:"Navneet Kumar",role:"Senior Sales Rep",workload:15},{id:2,name:"Sales Manager",role:"Sales Manager",workload:8},{id:3,name:"Junior Sales Rep",role:"Sales Rep",workload:12},{id:4,name:"Senior Sales Rep",role:"Senior Sales Rep",workload:18}];(0,t.useEffect)(()=>{const e=[{id:1,name:"High Value Leads",conditions:[{field:"estimatedValue",operator:"greater_than",value:5e5}],assignTo:"Navneet Kumar",priority:1,isActive:!0,assignedCount:12,createdDate:(new Date).toISOString()},{id:2,name:"Technology Industry",conditions:[{field:"industry",operator:"equals",value:"Technology"}],assignTo:"Senior Sales Rep",priority:2,isActive:!0,assignedCount:8,createdDate:(new Date).toISOString()},{id:3,name:"Website Leads",conditions:[{field:"leadSource",operator:"equals",value:"Website"}],assignTo:"Sales Manager",priority:3,isActive:!1,assignedCount:5,createdDate:(new Date).toISOString()}];b(e)},[]);const R={padding:"0",background:i?"#111827":"#f9fafb",minHeight:"100vh"},C={background:i?"#1f2937":"white",borderRadius:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid "+(i?"#374151":"#e5e7eb")};return(0,f.jsxs)("div",{style:R,children:[(0,f.jsx)("div",{style:{marginBottom:"2rem"},children:(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,f.jsx)(s.A,{style:{color:"#8b5cf6"},size:32}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"700",color:i?"white":"#1f2937",margin:0},children:"Auto Assignment"}),(0,f.jsx)("p",{style:{color:i?"#9ca3af":"#6b7280",fontSize:"1.125rem",margin:0},children:"Automatically assign leads to sales team members based on rules"})]})]}),(0,f.jsxs)("button",{onClick:()=>v(!0),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #8b5cf6, #a855f7)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",fontWeight:"600"},children:[(0,f.jsx)(n.A,{size:20}),"Add Rule"]})]})}),(0,f.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[{label:"Active Rules",value:y.filter(e=>e.isActive).length,icon:o.A,color:"#22c55e"},{label:"Total Assignments",value:y.reduce((e,i)=>e+i.assignedCount,0),icon:l.A,color:"#3b82f6"},{label:"Team Members",value:z.length,icon:s.A,color:"#f59e0b"},{label:"Avg Workload",value:Math.round(z.reduce((e,i)=>e+i.workload,0)/z.length),icon:d.A,color:"#8b5cf6"}].map((e,r)=>{const t=e.icon;return(0,f.jsx)("div",{style:{...C,padding:"1.5rem"},children:(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{style:{fontSize:"0.875rem",color:i?"#9ca3af":"#6b7280",marginBottom:"0.25rem"},children:e.label}),(0,f.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"700",color:i?"white":"#1f2937"},children:e.value})]}),(0,f.jsx)(t,{style:{color:e.color},size:28})]})},r)})}),(0,f.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"2rem"},children:[(0,f.jsxs)("div",{style:{...C,padding:"1.5rem"},children:[(0,f.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:i?"white":"#1f2937",marginBottom:"1.5rem"},children:"Assignment Rules"}),(0,f.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:y.map(e=>(0,f.jsxs)("div",{style:{background:i?"#374151":"#f9fafb",padding:"1.5rem",borderRadius:"12px",border:"2px solid "+(e.isActive?"#22c55e":"#6b7280")},children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.isActive?(0,f.jsx)(o.A,{size:20,style:{color:"#22c55e"}}):(0,f.jsx)(a.A,{size:20,style:{color:"#6b7280"}}),(0,f.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:i?"white":"#1f2937",margin:0},children:e.name})]}),(0,f.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,f.jsx)("button",{onClick:()=>{return i=e.id,b(e=>e.map(e=>e.id===i?{...e,isActive:!e.isActive}:e)),void(0,u.P)("success","\ud83d\udd04 Rule status updated");var i},style:{padding:"0.5rem",background:e.isActive?"#fee2e2":"#dcfce7",color:e.isActive?"#dc2626":"#166534",border:"none",borderRadius:"6px",cursor:"pointer"},title:e.isActive?"Pause Rule":"Activate Rule",children:e.isActive?(0,f.jsx)(c.A,{size:14}):(0,f.jsx)(m.A,{size:14})}),(0,f.jsx)("button",{style:{padding:"0.5rem",background:i?"#4b5563":"#e5e7eb",color:i?"#d1d5db":"#374151",border:"none",borderRadius:"6px",cursor:"pointer"},title:"Edit Rule",children:(0,f.jsx)(g.A,{size:14})}),(0,f.jsx)("button",{onClick:()=>{return i=e.id,b(e=>e.filter(e=>e.id!==i)),void(0,u.P)("success","\ud83d\uddd1\ufe0f Rule deleted successfully");var i},style:{padding:"0.5rem",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",cursor:"pointer"},title:"Delete Rule",children:(0,f.jsx)(p.A,{size:14})})]})]}),(0,f.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{style:{fontSize:"0.75rem",color:i?"#9ca3af":"#6b7280"},children:"Assign To"}),(0,f.jsx)("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:i?"white":"#1f2937",margin:0},children:e.assignTo})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{style:{fontSize:"0.75rem",color:i?"#9ca3af":"#6b7280"},children:"Priority"}),(0,f.jsx)("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:i?"white":"#1f2937",margin:0},children:e.priority})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{style:{fontSize:"0.75rem",color:i?"#9ca3af":"#6b7280"},children:"Assigned"}),(0,f.jsxs)("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#22c55e",margin:0},children:[e.assignedCount," leads"]})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{style:{fontSize:"0.75rem",color:i?"#9ca3af":"#6b7280"},children:"Conditions"}),(0,f.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginTop:"0.25rem"},children:e.conditions.map((e,i)=>(0,f.jsxs)("span",{style:{padding:"0.25rem 0.75rem",background:"#dbeafe",color:"#1d4ed8",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500"},children:[e.field," ",e.operator.replace("_"," ")," ",e.value]},i))})]})]},e.id))})]}),(0,f.jsxs)("div",{style:{...C,padding:"1.5rem"},children:[(0,f.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:i?"white":"#1f2937",marginBottom:"1.5rem"},children:"Team Workload"}),(0,f.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:z.map(e=>(0,f.jsxs)("div",{style:{background:i?"#374151":"#f9fafb",padding:"1rem",borderRadius:"8px"},children:[(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:i?"white":"#1f2937",margin:0},children:e.name}),(0,f.jsx)("p",{style:{fontSize:"0.875rem",color:i?"#9ca3af":"#6b7280",margin:0},children:e.role})]}),(0,f.jsx)("span",{style:{fontSize:"1rem",fontWeight:"600",color:e.workload>15?"#ef4444":"#22c55e"},children:e.workload})]}),(0,f.jsx)("div",{style:{width:"100%",height:"8px",background:i?"#4b5563":"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:(0,f.jsx)("div",{style:{width:`${Math.min(e.workload/20*100,100)}%`,height:"100%",background:e.workload>15?"#ef4444":"#22c55e",borderRadius:"4px",transition:"width 0.3s ease"}})})]},e.id))})]})]}),j&&(0,f.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},children:(0,f.jsxs)("div",{style:{background:i?"#1f2937":"white",borderRadius:"16px",width:"90%",maxWidth:"600px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[(0,f.jsxs)("div",{style:{padding:"1.5rem",borderBottom:"1px solid "+(i?"#374151":"#e5e7eb"),display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,f.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:i?"white":"#1f2937",margin:0},children:"Create Assignment Rule"}),(0,f.jsx)("button",{onClick:()=>v(!1),style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:i?"#9ca3af":"#6b7280"},children:"\xd7"})]}),(0,f.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:i?"#d1d5db":"#374151",marginBottom:"0.5rem"},children:"Rule Name *"}),(0,f.jsx)("input",{type:"text",value:w.name,onChange:e=>A({...w,name:e.target.value}),placeholder:"Enter rule name",style:{width:"100%",padding:"0.75rem",border:"2px solid "+(i?"#374151":"#e5e7eb"),borderRadius:"8px",background:i?"#374151":"white",color:i?"white":"#1f2937",fontSize:"1rem"}})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:i?"#d1d5db":"#374151",marginBottom:"0.5rem"},children:"Assign To *"}),(0,f.jsxs)("select",{value:w.assignTo,onChange:e=>A({...w,assignTo:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid "+(i?"#374151":"#e5e7eb"),borderRadius:"8px",background:i?"#374151":"white",color:i?"white":"#1f2937",fontSize:"1rem"},children:[(0,f.jsx)("option",{value:"",children:"Select team member"}),z.map(e=>(0,f.jsxs)("option",{value:e.name,children:[e.name," (",e.role,")"]},e.id))]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:i?"#d1d5db":"#374151",marginBottom:"0.5rem"},children:"Priority (1 = Highest)"}),(0,f.jsx)("input",{type:"number",min:"1",max:"10",value:w.priority,onChange:e=>A({...w,priority:parseInt(e.target.value)}),style:{width:"100%",padding:"0.75rem",border:"2px solid "+(i?"#374151":"#e5e7eb"),borderRadius:"8px",background:i?"#374151":"white",color:i?"white":"#1f2937",fontSize:"1rem"}})]})]}),(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem"},children:[(0,f.jsx)("button",{onClick:()=>v(!1),style:{padding:"0.75rem 1.5rem",border:"2px solid "+(i?"#374151":"#e5e7eb"),borderRadius:"8px",background:"transparent",color:i?"#d1d5db":"#374151",cursor:"pointer",fontSize:"1rem",fontWeight:"500"},children:"Cancel"}),(0,f.jsxs)("button",{onClick:()=>{if(!w.name.trim()||!w.assignTo)return void(0,u.P)("error","\u274c Please fill all required fields");const e={id:Date.now(),...w,assignedCount:0,createdDate:(new Date).toISOString()};b([...y,e]),A({name:"",conditions:[],assignTo:"",priority:1,isActive:!0}),v(!1),(0,u.P)("success","\u2705 Assignment rule created successfully!")},style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"8px",background:"linear-gradient(135deg, #8b5cf6, #a855f7)",color:"white",cursor:"pointer",fontSize:"1rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,f.jsx)(h.A,{size:16}),"Create Rule"]})]})]})]})})]})}}}]);
//# sourceMappingURL=884.c43f31b6.chunk.js.map