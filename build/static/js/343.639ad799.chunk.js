"use strict";(self.webpackChunkgreen_call_crm=self.webpackChunkgreen_call_crm||[]).push([[343],{74:(e,t,i)=>{i.d(t,{A:()=>r});const r=(0,i(3797).A)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]])},4082:(e,t,i)=>{i.d(t,{A:()=>r});const r=(0,i(3797).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},6339:(e,t,i)=>{i.d(t,{A:()=>r});const r=(0,i(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6787:(e,t,i)=>{i.d(t,{A:()=>r});const r=(0,i(3797).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},8343:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var r=i(5043),n=i(8112),s=i(6787),l=i(6487),a=i(3458),o=i(9589),d=i(917),c=i(5680),m=i(2543),u=i(4421),g=i(2380),p=i(4082),f=i(74),x=i(6514),h=i(6339),y=i(8068),b=i(579);const v=e=>{let{darkMode:t,currentUser:i,crmData:v}=e;const[j,w]=(0,r.useState)([]),[k,A]=(0,r.useState)(!1),[S,z]=(0,r.useState)(null),[_,C]=(0,r.useState)({}),[W,R]=(0,r.useState)({name:"",description:"",trigger:"new_lead",conditions:[],actions:[],isActive:!0});(0,r.useEffect)(()=>{const e=[{id:1,name:"New Lead Welcome Sequence",description:"Automatically send welcome email and assign to sales rep when new lead is created",trigger:"new_lead",conditions:[{type:"lead_source",operator:"equals",value:"website"}],actions:[{type:"send_email",template:"welcome_email",delay:0},{type:"assign_to",user:"sales_rep",delay:5},{type:"create_task",title:"Follow up with new lead",delay:60}],isActive:!0,createdBy:"Navneet Kumar",createdDate:(new Date).toISOString(),executionCount:45,successRate:98},{id:2,name:"Follow-up Reminder System",description:"Send reminder emails and create tasks for leads not contacted in 3 days",trigger:"time_based",conditions:[{type:"days_since_created",operator:"greater_than",value:3},{type:"status",operator:"equals",value:"new"}],actions:[{type:"send_email",template:"follow_up_reminder",delay:0},{type:"create_task",title:"Urgent: Follow up with lead",delay:0},{type:"notify_manager",message:"Lead requires attention",delay:1440}],isActive:!0,createdBy:"Sales Manager",createdDate:(new Date).toISOString(),executionCount:23,successRate:87},{id:3,name:"High-Value Lead Alert",description:"Immediately notify sales manager for leads with value > \u20b910L",trigger:"lead_updated",conditions:[{type:"estimated_value",operator:"greater_than",value:1e6}],actions:[{type:"notify_manager",message:"High-value lead detected",delay:0},{type:"assign_to",user:"senior_sales",delay:0},{type:"schedule_call",duration:30,delay:60}],isActive:!0,createdBy:"Admin User",createdDate:(new Date).toISOString(),executionCount:8,successRate:100}];w(e);const t={totalWorkflows:e.length,activeWorkflows:e.filter(e=>e.isActive).length,totalExecutions:e.reduce((e,t)=>e+t.executionCount,0),avgSuccessRate:Math.round(e.reduce((e,t)=>e+t.successRate,0)/e.length)};C(t)},[]);const I=[{value:"new_lead",label:"New Lead Created",icon:n.A},{value:"lead_updated",label:"Lead Updated",icon:s.A},{value:"status_changed",label:"Status Changed",icon:l.A},{value:"time_based",label:"Time-based",icon:a.A},{value:"email_opened",label:"Email Opened",icon:o.A}],B=[{value:"send_email",label:"Send Email",icon:o.A},{value:"create_task",label:"Create Task",icon:d.A},{value:"assign_to",label:"Assign to User",icon:n.A},{value:"schedule_call",label:"Schedule Call",icon:c.A},{value:"notify_manager",label:"Notify Manager",icon:m.A},{value:"update_status",label:"Update Status",icon:l.A}],D={padding:"0",background:t?"#111827":"#f9fafb",minHeight:"100vh"},T={background:t?"#1f2937":"white",borderRadius:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid "+(t?"#374151":"#e5e7eb")};return(0,b.jsxs)("div",{style:D,children:[(0,b.jsx)("div",{style:{marginBottom:"2rem"},children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,b.jsx)(u.A,{style:{color:"#f59e0b"},size:32}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"700",color:t?"white":"#1f2937",margin:0},children:"Workflow Automation"}),(0,b.jsx)("p",{style:{color:t?"#9ca3af":"#6b7280",fontSize:"1.125rem",margin:0},children:"Automate repetitive tasks and streamline your sales process"})]})]}),(0,b.jsxs)("button",{onClick:()=>A(!0),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #f59e0b, #fbbf24)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",fontWeight:"600"},children:[(0,b.jsx)(g.A,{size:20}),"Create Workflow"]})]})}),(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[{label:"Total Workflows",value:_.totalWorkflows||0,icon:u.A,color:"#f59e0b"},{label:"Active Workflows",value:_.activeWorkflows||0,icon:p.A,color:"#22c55e"},{label:"Total Executions",value:_.totalExecutions||0,icon:l.A,color:"#3b82f6"},{label:"Success Rate",value:`${_.avgSuccessRate||0}%`,icon:d.A,color:"#8b5cf6"}].map((e,i)=>{const r=e.icon;return(0,b.jsx)("div",{style:{...T,padding:"1.5rem"},children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#9ca3af":"#6b7280",marginBottom:"0.25rem"},children:e.label}),(0,b.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"700",color:t?"white":"#1f2937"},children:e.value})]}),(0,b.jsx)(r,{style:{color:e.color},size:28})]})},i)})}),(0,b.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"1.5rem"},children:j.map(e=>{var i;const r=(e=>{const t=I.find(t=>t.value===e);return t?t.icon:u.A})(e.trigger);return(0,b.jsxs)("div",{style:{...T,padding:"1.5rem"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,b.jsxs)("div",{style:{flex:1},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[(0,b.jsx)(r,{size:20,style:{color:"#f59e0b"}}),(0,b.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:t?"white":"#1f2937",margin:0},children:e.name})]}),(0,b.jsx)("p",{style:{color:t?"#9ca3af":"#6b7280",fontSize:"0.875rem",margin:0,lineHeight:"1.5"},children:e.description})]}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",borderRadius:"20px",background:e.isActive?"#dcfce7":"#fee2e2",border:"1px solid "+(e.isActive?"#22c55e":"#ef4444")},children:[e.isActive?(0,b.jsx)(p.A,{size:14,style:{color:"#22c55e"}}):(0,b.jsx)(f.A,{size:14,style:{color:"#ef4444"}}),(0,b.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:e.isActive?"#166534":"#dc2626"},children:e.isActive?"Active":"Paused"})]})]}),(0,b.jsxs)("div",{style:{background:t?"#374151":"#f9fafb",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[(0,b.jsx)("h4",{style:{fontSize:"0.875rem",fontWeight:"600",color:t?"white":"#1f2937",marginBottom:"0.75rem"},children:"Workflow Steps:"}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:t?"#4b5563":"#e5e7eb",borderRadius:"6px"},children:[(0,b.jsx)(r,{size:16,style:{color:"#f59e0b"}}),(0,b.jsxs)("span",{style:{fontSize:"0.75rem",color:t?"#d1d5db":"#374151"},children:["Trigger: ",null===(i=I.find(t=>t.value===e.trigger))||void 0===i?void 0:i.label]})]}),e.actions.slice(0,3).map((e,i)=>{var r;const n=(e=>{const t=B.find(t=>t.value===e);return t?t.icon:d.A})(e.type);return(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:t?"#4b5563":"#e5e7eb",borderRadius:"6px"},children:[(0,b.jsx)(x.A,{size:12,style:{color:t?"#9ca3af":"#6b7280"}}),(0,b.jsx)(n,{size:16,style:{color:"#22c55e"}}),(0,b.jsxs)("span",{style:{fontSize:"0.75rem",color:t?"#d1d5db":"#374151"},children:[null===(r=B.find(t=>t.value===e.type))||void 0===r?void 0:r.label,e.delay>0&&` (${e.delay}min delay)`]})]},i)}),e.actions.length>3&&(0,b.jsxs)("div",{style:{fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280",textAlign:"center",padding:"0.5rem"},children:["+",e.actions.length-3," more actions"]})]})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[(0,b.jsxs)("div",{style:{textAlign:"center"},children:[(0,b.jsx)("p",{style:{fontSize:"1.25rem",fontWeight:"700",color:t?"white":"#1f2937",margin:0},children:e.executionCount}),(0,b.jsx)("p",{style:{fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280",margin:0},children:"Executions"})]}),(0,b.jsxs)("div",{style:{textAlign:"center"},children:[(0,b.jsxs)("p",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#22c55e",margin:0},children:[e.successRate,"%"]}),(0,b.jsx)("p",{style:{fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280",margin:0},children:"Success Rate"})]}),(0,b.jsxs)("div",{style:{textAlign:"center"},children:[(0,b.jsx)("p",{style:{fontSize:"1.25rem",fontWeight:"700",color:t?"white":"#1f2937",margin:0},children:e.actions.length}),(0,b.jsx)("p",{style:{fontSize:"0.75rem",color:t?"#9ca3af":"#6b7280",margin:0},children:"Actions"})]})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"space-between"},children:[(0,b.jsxs)("button",{onClick:()=>(e=>{w(j.map(t=>t.id===e?{...t,isActive:!t.isActive}:t));const t=j.find(t=>t.id===e);(0,y.P)("success",t.isActive?"\u23f8\ufe0f Workflow paused":"\u25b6\ufe0f Workflow activated")})(e.id),style:{padding:"0.5rem 1rem",background:e.isActive?"#fee2e2":"#dcfce7",color:e.isActive?"#dc2626":"#166534",border:"1px solid "+(e.isActive?"#ef4444":"#22c55e"),borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.isActive?(0,b.jsx)(f.A,{size:14}):(0,b.jsx)(p.A,{size:14}),e.isActive?"Pause":"Activate"]}),(0,b.jsxs)("button",{onClick:()=>(e=>{const t=j.find(t=>t.id===e);(0,y.P)("info",`\ud83d\ude80 Executing workflow: ${t.name}`),setTimeout(()=>{w(j.map(t=>t.id===e?{...t,executionCount:t.executionCount+1}:t)),(0,y.P)("success","\u2705 Workflow executed successfully!")},2e3)})(e.id),style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #3b82f6, #60a5fa)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,b.jsx)(u.A,{size:14}),"Test Run"]}),(0,b.jsx)("button",{style:{padding:"0.5rem",background:t?"#374151":"#f3f4f6",color:t?"#d1d5db":"#374151",border:"none",borderRadius:"6px",cursor:"pointer"},title:"Edit",children:(0,b.jsx)(s.A,{size:14})}),(0,b.jsx)("button",{onClick:()=>{return t=e.id,w(j.filter(e=>e.id!==t)),void(0,y.P)("success","\ud83d\uddd1\ufe0f Workflow deleted successfully");var t},style:{padding:"0.5rem",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"6px",cursor:"pointer"},title:"Delete",children:(0,b.jsx)(h.A,{size:14})})]})]},e.id)})}),k&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},children:(0,b.jsxs)("div",{style:{background:t?"#1f2937":"white",borderRadius:"16px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[(0,b.jsxs)("div",{style:{padding:"1.5rem",borderBottom:"1px solid "+(t?"#374151":"#e5e7eb"),display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,b.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:t?"white":"#1f2937",margin:0},children:"Create New Workflow"}),(0,b.jsx)("button",{onClick:()=>A(!1),style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:t?"#9ca3af":"#6b7280"},children:"\xd7"})]}),(0,b.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:t?"#d1d5db":"#374151",marginBottom:"0.5rem"},children:"Workflow Name *"}),(0,b.jsx)("input",{type:"text",value:W.name,onChange:e=>R({...W,name:e.target.value}),placeholder:"Enter workflow name",style:{width:"100%",padding:"0.75rem",border:"2px solid "+(t?"#374151":"#e5e7eb"),borderRadius:"8px",background:t?"#374151":"white",color:t?"white":"#1f2937",fontSize:"1rem"}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:t?"#d1d5db":"#374151",marginBottom:"0.5rem"},children:"Description"}),(0,b.jsx)("textarea",{value:W.description,onChange:e=>R({...W,description:e.target.value}),placeholder:"Describe what this workflow does",rows:"3",style:{width:"100%",padding:"0.75rem",border:"2px solid "+(t?"#374151":"#e5e7eb"),borderRadius:"8px",background:t?"#374151":"white",color:t?"white":"#1f2937",fontSize:"1rem",resize:"vertical"}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:t?"#d1d5db":"#374151",marginBottom:"0.5rem"},children:"Trigger Event"}),(0,b.jsx)("select",{value:W.trigger,onChange:e=>R({...W,trigger:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"2px solid "+(t?"#374151":"#e5e7eb"),borderRadius:"8px",background:t?"#374151":"white",color:t?"white":"#1f2937",fontSize:"1rem"},children:I.map(e=>(0,b.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,b.jsx)("div",{style:{background:t?"#374151":"#f9fafb",padding:"1rem",borderRadius:"8px"},children:(0,b.jsx)("p",{style:{fontSize:"0.875rem",color:t?"#9ca3af":"#6b7280",margin:0},children:"\ud83d\udca1 Advanced workflow builder with conditions and multiple actions will be available in the full version."})})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem"},children:[(0,b.jsx)("button",{onClick:()=>A(!1),style:{padding:"0.75rem 1.5rem",border:"2px solid "+(t?"#374151":"#e5e7eb"),borderRadius:"8px",background:"transparent",color:t?"#d1d5db":"#374151",cursor:"pointer",fontSize:"1rem",fontWeight:"500"},children:"Cancel"}),(0,b.jsxs)("button",{onClick:()=>{if(!W.name.trim())return void(0,y.P)("error","\u274c Workflow name is required");const e={id:Date.now(),...W,createdBy:(null===i||void 0===i?void 0:i.name)||"Unknown",createdDate:(new Date).toISOString(),executionCount:0,successRate:100};w([...j,e]),R({name:"",description:"",trigger:"new_lead",conditions:[],actions:[],isActive:!0}),A(!1),(0,y.P)("success","\u2705 Workflow created successfully!")},style:{padding:"0.75rem 1.5rem",border:"none",borderRadius:"8px",background:"linear-gradient(135deg, #f59e0b, #fbbf24)",color:"white",cursor:"pointer",fontSize:"1rem",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,b.jsx)(u.A,{size:16}),"Create Workflow"]})]})]})]})})]})}}}]);
//# sourceMappingURL=343.639ad799.chunk.js.map