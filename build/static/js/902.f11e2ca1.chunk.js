"use strict";(self.webpackChunkgreen_call_crm=self.webpackChunkgreen_call_crm||[]).push([[902],{1490:(e,t,r)=>{r.d(t,{A:()=>i});const i=(0,r(3797).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},6787:(e,t,r)=>{r.d(t,{A:()=>i});const i=(0,r(3797).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9120:(e,t,r)=>{r.d(t,{A:()=>i});const i=(0,r(3797).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},9902:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var i=r(5043),n=r(8112),s=r(2380),l=r(9120),o=r(712),a=r(9256),d=r(1490),c=r(9589),m=r(5680),f=r(8296),p=r(8775),g=r(6787),x=r(579);const h=e=>{var t;let{darkMode:r,crmData:h,userRole:u}=e;const[y,b]=(0,i.useState)([]),[j,v]=(0,i.useState)([]),[S,w]=(0,i.useState)(""),[z,C]=(0,i.useState)("all"),[A,k]=(0,i.useState)(null),[I,W]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=[...(h.leads||[]).filter(e=>"converted"===e.status).map(e=>({id:e._id||e.id,name:e.contactPerson,company:e.companyName,email:e.email,phone:e.phone,industry:e.industry||"General",location:e.location||"Not specified",status:"active",totalValue:e.estimatedValue||0,joinDate:e.createdDate||(new Date).toISOString(),accountManager:e.assignedTo||"Sales Team",lastContact:(new Date).toISOString(),documents:[],invoices:[],notes:e.notes||"Converted from lead",rating:4})),...h.customers||[]];b(e),v(e)},[h]),(0,i.useEffect)(()=>{let e=y;S&&(e=e.filter(e=>e.name.toLowerCase().includes(S.toLowerCase())||e.company.toLowerCase().includes(S.toLowerCase())||e.email.toLowerCase().includes(S.toLowerCase()))),"all"!==z&&(e=e.filter(e=>e.status===z)),v(e)},[S,z,y]);const B={padding:"0",background:r?"#111827":"#f9fafb",minHeight:"100vh"},R={background:r?"#1f2937":"white",borderRadius:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid "+(r?"#374151":"#e5e7eb")};return(0,x.jsxs)("div",{style:B,children:[(0,x.jsx)("div",{style:{marginBottom:"2rem"},children:(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,x.jsx)(n.A,{style:{color:"#22c55e"},size:32}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"700",color:r?"white":"#1f2937",margin:0},children:"Customer Management"}),(0,x.jsx)("p",{style:{color:r?"#9ca3af":"#6b7280",fontSize:"1.125rem",margin:0},children:"Manage your converted customers and client relationships"})]})]}),("super-admin"===u||"admin"===u)&&(0,x.jsxs)("button",{style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #22c55e, #4ade80)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",fontWeight:"600",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,x.jsx)(s.A,{size:20}),"Add Customer"]})]})}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[{label:"Total Customers",value:y.length,icon:n.A,color:"#22c55e"},{label:"Active Customers",value:y.filter(e=>"active"===e.status).length,icon:n.A,color:"#10b981"},{label:"Total Revenue",value:`\u20b9${(y.reduce((e,t)=>e+(t.totalValue||0),0)/1e5).toFixed(1)}L`,icon:l.A,color:"#f59e0b"},{label:"Avg Rating",value:`${(y.reduce((e,t)=>e+(t.rating||0),0)/y.length||0).toFixed(1)}/5`,icon:o.A,color:"#fbbf24"}].map((e,t)=>{const i=e.icon;return(0,x.jsx)("div",{style:{...R,padding:"1.5rem"},children:(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{fontSize:"0.875rem",color:r?"#9ca3af":"#6b7280",marginBottom:"0.25rem"},children:e.label}),(0,x.jsx)("p",{style:{fontSize:"1.5rem",fontWeight:"700",color:r?"white":"#1f2937"},children:e.value})]}),(0,x.jsx)(i,{style:{color:e.color},size:28})]})},t)})}),(0,x.jsx)("div",{style:{...R,padding:"1.5rem",marginBottom:"2rem"},children:(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[(0,x.jsxs)("div",{style:{position:"relative",flex:1,minWidth:"300px"},children:[(0,x.jsx)(a.A,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),(0,x.jsx)("input",{type:"text",placeholder:"Search customers by name, company, or email...",value:S,onChange:e=>w(e.target.value),style:{width:"100%",padding:"0.75rem 1rem 0.75rem 3rem",border:"2px solid "+(r?"#374151":"#e5e7eb"),borderRadius:"8px",background:r?"#374151":"white",color:r?"white":"#1f2937",fontSize:"1rem",outline:"none"}})]}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(d.A,{size:20,style:{color:r?"#9ca3af":"#6b7280"}}),(0,x.jsxs)("select",{value:z,onChange:e=>C(e.target.value),style:{padding:"0.75rem",border:"2px solid "+(r?"#374151":"#e5e7eb"),borderRadius:"8px",background:r?"#374151":"white",color:r?"white":"#1f2937",fontSize:"1rem",outline:"none"},children:[(0,x.jsx)("option",{value:"all",children:"All Status"}),(0,x.jsx)("option",{value:"active",children:"Active"}),(0,x.jsx)("option",{value:"inactive",children:"Inactive"}),(0,x.jsx)("option",{value:"prospect",children:"Prospect"})]})]})]})}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"1.5rem"},children:j.map(e=>{var t;const i=(e=>{const t={active:{bg:r?"#065f46":"#dcfce7",text:r?"#10b981":"#166534",border:"#22c55e"},inactive:{bg:r?"#7f1d1d":"#fee2e2",text:r?"#ef4444":"#dc2626",border:"#ef4444"},prospect:{bg:r?"#78350f":"#fef3c7",text:r?"#f59e0b":"#d97706",border:"#f59e0b"}};return t[e]||t.active})(e.status);return(0,x.jsxs)("div",{style:{...R,padding:"1.5rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,x.jsx)("div",{style:{width:"50px",height:"50px",background:"linear-gradient(135deg, #22c55e, #4ade80)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"1.125rem"},children:e.name.charAt(0)}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:r?"white":"#1f2937",margin:"0 0 0.25rem 0"},children:e.name}),(0,x.jsx)("p",{style:{color:r?"#9ca3af":"#6b7280",fontSize:"0.875rem",margin:0},children:e.company})]})]}),(0,x.jsx)("span",{style:{padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",textTransform:"capitalize",background:i.bg,color:i.text,border:`1px solid ${i.border}`},children:e.status})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",marginBottom:"1rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(c.A,{size:16,style:{color:r?"#9ca3af":"#6b7280"}}),(0,x.jsx)("span",{style:{fontSize:"0.875rem",color:r?"#d1d5db":"#374151"},children:e.email})]}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(m.A,{size:16,style:{color:r?"#9ca3af":"#6b7280"}}),(0,x.jsx)("span",{style:{fontSize:"0.875rem",color:r?"#d1d5db":"#374151"},children:e.phone})]}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(f.A,{size:16,style:{color:r?"#9ca3af":"#6b7280"}}),(0,x.jsx)("span",{style:{fontSize:"0.875rem",color:r?"#d1d5db":"#374151"},children:e.location})]}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(l.A,{size:16,style:{color:r?"#9ca3af":"#6b7280"}}),(0,x.jsxs)("span",{style:{fontSize:"0.875rem",color:r?"#d1d5db":"#374151",fontWeight:"600"},children:["\u20b9",(null===(t=e.totalValue)||void 0===t?void 0:t.toLocaleString())||"0"]})]})]}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[(0,x.jsx)("span",{style:{fontSize:"0.875rem",color:r?"#9ca3af":"#6b7280"},children:"Rating:"}),(0,x.jsx)("div",{style:{display:"flex",gap:"0.25rem"},children:[1,2,3,4,5].map(t=>(0,x.jsx)(o.A,{size:16,fill:t<=(e.rating||0)?"#fbbf24":"transparent",color:t<=(e.rating||0)?"#fbbf24":r?"#4b5563":"#d1d5db"},t))})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"space-between"},children:[(0,x.jsxs)("button",{onClick:()=>(e=>{k(e),W(!0)})(e),style:{flex:1,padding:"0.75rem",background:r?"#374151":"#f3f4f6",color:r?"#d1d5db":"#374151",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[(0,x.jsx)(p.A,{size:16}),"View Details"]}),("super-admin"===u||"admin"===u||"sales-manager"===u)&&(0,x.jsxs)("button",{style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #22c55e, #4ade80)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[(0,x.jsx)(g.A,{size:16}),"Edit Customer"]})]})]},e.id)})}),0===j.length&&(0,x.jsxs)("div",{style:{...R,padding:"3rem",textAlign:"center",marginTop:"2rem"},children:[(0,x.jsx)(n.A,{size:48,style:{color:r?"#9ca3af":"#6b7280",marginBottom:"1rem"}}),(0,x.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:r?"white":"#1f2937",marginBottom:"0.5rem"},children:"No customers found"}),(0,x.jsx)("p",{style:{color:r?"#9ca3af":"#6b7280"},children:S||"all"!==z?"Try adjusting your search or filter criteria":"Convert some leads to customers to see them here"})]}),I&&A&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},children:(0,x.jsxs)("div",{style:{background:r?"#1f2937":"white",borderRadius:"16px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflow:"auto"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",borderBottom:"1px solid "+(r?"#374151":"#e5e7eb"),display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"600",color:r?"white":"#1f2937",margin:0},children:"Customer 360\xb0 View"}),(0,x.jsx)("button",{onClick:()=>W(!1),style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",color:r?"#9ca3af":"#6b7280"},children:"\xd7"})]}),(0,x.jsx)("div",{style:{padding:"1.5rem"},children:(0,x.jsxs)("div",{style:{textAlign:"center"},children:[(0,x.jsx)("h4",{style:{fontSize:"1.25rem",fontWeight:"600",color:r?"white":"#1f2937",marginBottom:"1rem"},children:A.name}),(0,x.jsx)("p",{style:{color:r?"#9ca3af":"#6b7280",marginBottom:"2rem"},children:A.company}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1rem",background:r?"#374151":"#f9fafb",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"0.875rem",color:r?"#9ca3af":"#6b7280",marginBottom:"0.5rem"},children:"Email"}),(0,x.jsx)("div",{style:{fontWeight:"600",color:r?"white":"#1f2937"},children:A.email})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:r?"#374151":"#f9fafb",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"0.875rem",color:r?"#9ca3af":"#6b7280",marginBottom:"0.5rem"},children:"Phone"}),(0,x.jsx)("div",{style:{fontWeight:"600",color:r?"white":"#1f2937"},children:A.phone})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:r?"#374151":"#f9fafb",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"0.875rem",color:r?"#9ca3af":"#6b7280",marginBottom:"0.5rem"},children:"Status"}),(0,x.jsx)("div",{style:{fontWeight:"600",color:r?"white":"#1f2937",textTransform:"capitalize"},children:A.status})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:r?"#374151":"#f9fafb",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"0.875rem",color:r?"#9ca3af":"#6b7280",marginBottom:"0.5rem"},children:"Total Value"}),(0,x.jsxs)("div",{style:{fontWeight:"600",color:r?"white":"#1f2937"},children:["\u20b9",(null===(t=A.totalValue)||void 0===t?void 0:t.toLocaleString())||"0"]})]})]})]})})]})})]})}}}]);
//# sourceMappingURL=902.f11e2ca1.chunk.js.map