"use strict";(self.webpackChunkgreen_call_crm=self.webpackChunkgreen_call_crm||[]).push([[410],{9410:(e,r,t)=>{t.r(r),t.d(r,{default:()=>l});var n=t(5043),s=t(6213),o=t(8068),i=t(3488),a=t(579);const l=e=>{let{darkMode:r}=e;const[t,l]=(0,n.useState)({}),[d,c]=(0,n.useState)(!1),[m,u]=(0,n.useState)("navneet"),[g,p]=(0,n.useState)("1234"),[h,f]=(0,n.useState)(i.A.api.baseUrl),y=async(e,r)=>{l(r=>({...r,[e]:{status:"running",data:null,error:null}}));try{const t=await r();return l(r=>({...r,[e]:{status:"success",data:t,error:null}})),!0}catch(t){return l(r=>({...r,[e]:{status:"error",data:null,error:t.toString()}})),!1}},b=async()=>s.A.post(`${h}/auth/login`,{username:m,password:g}),x=async()=>s.A.get(`${h}/leads`),j=async()=>s.A.post(`${h}/leads`,{contactPerson:"Test Person",companyName:"Test Company",email:"test@example.com",phone:"+91 9876543210",industry:"Technology",leadSource:"API Test",estimatedValue:1e5,status:"new",priority:"medium"}),S={background:r?"#1f2937":"white",borderRadius:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid "+(r?"#374151":"#e5e7eb"),padding:"1.5rem",marginBottom:"1.5rem"},v={width:"100%",padding:"0.75rem",border:"2px solid "+(r?"#374151":"#e5e7eb"),borderRadius:"8px",background:r?"#374151":"white",color:r?"white":"#1f2937",fontSize:"1rem",marginBottom:"1rem"},w={padding:"0.75rem 1.5rem",background:d?"#9ca3af":"linear-gradient(135deg, #3b82f6, #60a5fa)",color:"white",border:"none",borderRadius:"8px",cursor:d?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"600"},k=e=>{const r={running:{bg:"#fef3c7",text:"#d97706"},success:{bg:"#dcfce7",text:"#16a34a"},error:{bg:"#fee2e2",text:"#dc2626"}},t=r[e]||r.running;return(0,a.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",background:t.bg,color:t.text},children:"running"===e?"Running...":"success"===e?"Success":"Error"})};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"700",color:r?"white":"#1f2937",marginBottom:"1.5rem"},children:"API End-to-End Test"}),(0,a.jsxs)("div",{style:S,children:[(0,a.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:r?"white":"#1f2937",marginBottom:"1rem"},children:"API Configuration"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:r?"#d1d5db":"#374151",marginBottom:"0.5rem"},children:"API URL"}),(0,a.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),style:v})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:r?"#d1d5db":"#374151",marginBottom:"0.5rem"},children:"Username"}),(0,a.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),style:v})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:r?"#d1d5db":"#374151",marginBottom:"0.5rem"},children:"Password"}),(0,a.jsx)("input",{type:"password",value:g,onChange:e=>p(e.target.value),style:v})]})]}),(0,a.jsx)("button",{onClick:async()=>{c(!0);try{await y("login",b)?(await Promise.all([y("getLeads",x),y("createLead",j)]),(0,o.P)("success","\u2705 API tests completed")):(0,o.P)("error","\u274c Login test failed, skipping other tests")}catch(e){console.error("Error running tests:",e),(0,o.P)("error","\u274c Error running tests")}finally{c(!1)}},disabled:d,style:w,children:d?"Running Tests...":"Run API Tests"})]}),(0,a.jsxs)("div",{style:S,children:[(0,a.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:r?"white":"#1f2937",marginBottom:"1rem"},children:"Test Results"}),0===Object.keys(t).length?(0,a.jsx)("p",{style:{color:r?"#9ca3af":"#6b7280"},children:'No tests run yet. Click "Run API Tests" to start.'}):(0,a.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:Object.entries(t).map(e=>{var t;let[n,s]=e;return(0,a.jsxs)("div",{style:{padding:"1rem",background:r?"#374151":"#f9fafb",borderRadius:"8px",border:"1px solid "+(r?"#4b5563":"#e5e7eb")},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,a.jsxs)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:r?"white":"#1f2937",margin:0,textTransform:"capitalize"},children:[n," Test"]}),k(s.status)]}),"success"===s.status&&(0,a.jsx)("div",{style:{background:r?"#1f2937":"white",padding:"0.75rem",borderRadius:"6px",fontSize:"0.875rem",color:r?"#d1d5db":"#374151",fontFamily:"monospace",overflowX:"auto"},children:(0,a.jsx)("pre",{style:{margin:0},children:JSON.stringify((null===(t=s.data)||void 0===t?void 0:t.data)||s.data,null,2)})}),"error"===s.status&&(0,a.jsx)("div",{style:{background:"#fee2e220",padding:"0.75rem",borderRadius:"6px",fontSize:"0.875rem",color:"#dc2626",fontFamily:"monospace"},children:s.error})]},n)})})]}),(0,a.jsxs)("div",{style:S,children:[(0,a.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:r?"white":"#1f2937",marginBottom:"1rem"},children:"CORS Troubleshooting"}),(0,a.jsxs)("div",{style:{background:r?"#374151":"#f9fafb",padding:"1rem",borderRadius:"8px",fontSize:"0.875rem",color:r?"#d1d5db":"#374151",fontFamily:"monospace",marginBottom:"1rem"},children:[(0,a.jsx)("p",{style:{margin:"0 0 0.5rem 0"},children:"Add this to your .NET backend:"}),(0,a.jsx)("pre",{style:{margin:0,overflowX:"auto"},children:'// In Program.cs\nbuilder.Services.AddCors(options =>\n{\n    options.AddPolicy("ReactAppPolicy",\n        builder =>\n        {\n            builder.WithOrigins("http://localhost:3000")\n                   .AllowAnyHeader()\n                   .AllowAnyMethod();\n        });\n});\n\n// In middleware pipeline\napp.UseCors("ReactAppPolicy");'})]}),(0,a.jsx)("p",{style:{color:r?"#9ca3af":"#6b7280",fontSize:"0.875rem"},children:"If you see CORS errors in the console, make sure your .NET backend has CORS enabled for your React app's URL."})]})]})}}}]);
//# sourceMappingURL=410.8ad6e376.chunk.js.map